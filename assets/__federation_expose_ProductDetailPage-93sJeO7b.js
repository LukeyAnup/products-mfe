import{importShared as d}from"./__federation_fn_import-eoakS9EZ.js";import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{L as f,E as j,B as g,a as b}from"./error-BJAHachG.js";import{B as p,F as v,a as N,G as y}from"./buttonIcon-C4Z3xCn-.js";const{useState:w}=await d("react");function P({images:t,className:n=""}){const[o,l]=w(0),a=()=>{l(s=>s===0?t.length-1:s-1)},c=()=>{l(s=>s===t.length-1?0:s+1)},i=s=>{l(s)};return e.jsxs("div",{className:`relative w-full ${n}`,children:[e.jsx("div",{className:"relative h-56 md:h-96 overflow-hidden rounded-base",children:t.map((s,r)=>e.jsx("img",{src:s,alt:`Slide ${r+1}`,className:`absolute w-full h-full object-contain transition-transform duration-700 ease-in-out ${r===o?"translate-x-0 opacity-100":"opacity-0"}`},r))}),e.jsx("div",{className:"absolute z-30 flex -translate-x-1/2 -bottom-2 left-1/2 space-x-3",children:t.map((s,r)=>e.jsx("button",{type:"button",className:`w-3 h-3 rounded-full ${r===o?"bg-blue-600":"bg-gray-500"}`,onClick:()=>i(r),"aria-label":`Slide ${r+1}`},r))}),e.jsx(p,{type:"button",onClick:a,sx:{position:"absolute",top:85,left:0,zIndex:30,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-gray-200 hover:bg-white/50",children:e.jsx(v,{})})}),e.jsx(p,{onClick:c,type:"button",sx:{position:"absolute",top:85,right:0,zIndex:30,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-gray-200 hover:bg-white/50",children:e.jsx(N,{})})})]})}const{useEffect:I,useState:D}=await d("react"),h="/placeholder.jpg";function S({images:t}){const[n,o]=D(t?.[0]);if(I(()=>{t&&t.length>0&&o(t[0])},[t]),!t||t.length===0||!n)return null;const l=t.filter(a=>a!==n);return e.jsxs("div",{children:[e.jsxs("div",{className:"md:flex flex-col md:gap-4 md:mx-20 hidden",children:[e.jsx("div",{className:"w-90 h-70 md:h-100",children:e.jsx("img",{src:n??h,alt:"Primary Product",className:"w-full md:h-100 object-cover bg-blue-100"})}),l.length>0&&e.jsx("div",{className:"flex gap-3 overflow-x-auto",children:l.map((a,c)=>e.jsx("img",{alt:`Product ${c}`,src:a??h,onClick:()=>o(a),className:"w-20 h-20 object-cover rounded-lg cursor-pointer border-2 border-gray-200 hover:border-blue-500"},c))})]}),e.jsx("div",{className:"",children:e.jsx(P,{images:t,className:"md:hidden"})})]})}const C={PRODUCTS:"/products"};function E(t){return y({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.464 2.114a.998.998 0 0 0-1.033.063l-13 9a1.003 1.003 0 0 0 0 1.645l13 9A1 1 0 0 0 19 21V3a1 1 0 0 0-.536-.886zM17 19.091 6.757 12 17 4.909v14.182z"},child:[]}]})(t)}const{useEffect:$,useState:x}=await d("react"),{useNavigate:T,useParams:k}=await d("react-router-dom"),{useTranslation:B}=await d("react-i18next");function F(){const{t}=B(),{id:n}=k(),o=T(),[l,a]=x(!0),[c,i]=x(null),[s,r]=x(null);function m(){o(C.PRODUCTS)}return $(()=>{if(!n){i(t("productDetails.invalidId")),a(!1);return}(async()=>{try{a(!0),i(null);const u=await b(Number(n));r(u)}catch(u){i(t("productDetails.loadFailed")),console.error("Error fetching product:",u)}finally{a(!1)}})()},[n,t]),l?e.jsx(f,{}):c||!s?e.jsx(j,{message:c??t("productDetails.unknownError"),onRetry:()=>m(),retryText:t("productDetails.backToProducts")}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center hover:text-blue-600 md:mx-20 mx-3 mb-8",children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx(g,{onClick:()=>m(),variant:"text",text:t("productDetails.backToProducts")})]}),e.jsxs("div",{className:"md:flex gap-8",children:[e.jsx("div",{children:e.jsx(S,{images:s?.images})}),e.jsx("div",{className:"px-3 md:px-0",children:e.jsxs("div",{className:"flex flex-col gap-4 pt-10",children:[e.jsx("div",{className:"text-2xl font-bold",children:s?.title}),e.jsxs("div",{className:"flex gap-20 font-semibold",children:[e.jsxs("p",{children:[t("productDetails.price")," $",s?.price]}),e.jsxs("p",{children:["-%",s?.discountPercentage," ",t("productDetails.discount")]})]}),e.jsxs("p",{className:"text-lg",children:[e.jsxs("span",{className:"font-bold",children:[t("productDetails.description"),":"]})," ",s?.description]}),e.jsxs("span",{children:[e.jsxs("span",{className:"font-bold",children:[t("productDetails.minOrder"),":"]})," ",s?.minimumOrderQuantity]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-bold",children:[t("productDetails.returnPolicy"),":"]})," ",s?.returnPolicy]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-bold",children:[t("productDetails.availability"),":"]})," ",s?.availabilityStatus]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-bold",children:[t("productDetails.shippingInfo"),":"]})," ",s?.shippingInformation]}),e.jsx("p",{children:s?.warrentyInformation})]})})]})]})}export{F as default};
